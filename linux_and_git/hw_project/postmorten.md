# Как проявлялась проблема со стороны пользователя

Отсутствие доступа к ресурсу http://3.73.44.38

# Как и когда обнаружили

В 09:17 Поступила заявка на восстановление доступа

## Хронология развития событий

2024-10-28 09:17 Поступила заявка на восстановление доступа к ресурсу http://3.73.44.38

2024-10-28 09:28 Получен доступ к серверу

2024-10-28 09:34 Выявленно отсутствие свободного места на сервере
```console
 df -h
```

2024-10-28 09:47 Выявленно отсутствие содержимого в файле конфигурации запрашиваемого ресурса
```console
 cat /var/www/html/mediawiki/LocalSettings.php
```

2024-10-28 09:49 Получена информация от сисадмина Максимки, о наличие резервной копии файла

2024-10-28 09:50 Попытка восстановление файла конфигураций не увенчалась успехом из-за отсутствия места на диске
```console
 cp /reserv_files/LocalSettings_reserv.php  /var/www/html/mediawiki/LocalSettings.php
```

2024-10-28 09:58 Найдены аномально большие файлы логов
```console
 sudo find / -type f -size +100M -exec du -h {} +
```

2024-10-28 10:26 Выявленно, что очистка аномальных логов не принесла результатов,

2024-10-28 10:40 Выявленна задача в CRON пораждающая паразитные логи
```console
 crontab -l
```

# Затронутые платформы, % трафика и время простоя

Ресурс http://3.73.44.38 был недоступен с 9:15 до 10:40

Так же могли замедленно работать другие сервисы находящиеся на том же сервере, но полной остановки сервера удалось избежать

# Как починили

 - Был восстановлен и отредактированн файл конфигураций ресурса
 - Очищены паразитные логи
 - Задача по логированию была убрана из CRON и отправленная на доработку

# Причина

Удаление содержимого файла конфигурации ресурса, причины не известны
Отсутствие места на сервере имело лишь отягощающий эффект, но не было причиной недоступности ресурса


# Что сделать чтобы проблема не повторилась

- Настроить бекапы сервера
- Ужесточить разграничения прав доступа к файлам, особенно критически важным
- Еженедельно проверять задач добавленные в CRON
- Добавить мониторинг ресурсов сервера
